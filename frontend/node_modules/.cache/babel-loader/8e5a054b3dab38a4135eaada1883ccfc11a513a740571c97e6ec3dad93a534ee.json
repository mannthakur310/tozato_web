{"ast":null,"code":"import React,{createContext,useContext,useReducer}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";const CartStateContext=/*#__PURE__*/createContext();const CartDispatchContext=/*#__PURE__*/createContext();const reducer=(state,action)=>{switch(action.type){case\"ADD\":return[...state,{id:action.id,name:action.name,qty:action.qty,size:action.size,img:action.img,price:action.price}];case\"REMOVE\":let newArray=[...state];newArray.splice(action.index,1);return newArray;case\"UPDATE\":let arr=[...state];arr.find((food,index)=>{if(food.id===action.id){arr[index]={...food,qty:parseInt(action.qty)+parseInt(food.qty),price:action.price+food.price};}});return arr;case\"DROP\":let emtArray=[];return emtArray;default:console.log(\"ERROR IN REDUCER\");}};export const CartProvider=_ref=>{let{children}=_ref;const[state,dispatch]=useReducer(reducer,[]);return/*#__PURE__*/_jsx(CartDispatchContext.Provider,{value:dispatch,children:/*#__PURE__*/_jsx(CartStateContext.Provider,{value:state,children:children})});};export const useCart=()=>useContext(CartStateContext);export const useDispatchCart=()=>useContext(CartDispatchContext);","map":{"version":3,"names":["React","createContext","useContext","useReducer","jsx","_jsx","CartStateContext","CartDispatchContext","reducer","state","action","type","id","name","qty","size","img","price","newArray","splice","index","arr","find","food","parseInt","emtArray","console","log","CartProvider","_ref","children","dispatch","Provider","value","useCart","useDispatchCart"],"sources":["C:/Users/mannp/OneDrive - Madan Mohan Malaviya University of Technology/Desktop/tozato/my-app/src/component/ContextReducer.js"],"sourcesContent":["import React, { createContext, useContext, useReducer } from \"react\";\r\n\r\nconst CartStateContext = createContext();\r\nconst CartDispatchContext = createContext();\r\n\r\nconst reducer = (state, action) => {\r\n  switch (action.type) {\r\n    case \"ADD\":\r\n      return [\r\n        ...state,\r\n        {\r\n          id: action.id,\r\n          name: action.name,\r\n          qty: action.qty,\r\n          size: action.size,\r\n          img: action.img,\r\n          price: action.price,\r\n        },\r\n      ];\r\n\r\n    case \"REMOVE\":\r\n      let newArray = [...state];\r\n      newArray.splice(action.index, 1);\r\n      return newArray;\r\n\r\n    case \"UPDATE\":\r\n      let arr = [...state];\r\n      arr.find((food, index) => {\r\n        if (food.id === action.id) {\r\n          arr[index] = {\r\n            ...food,\r\n            qty: parseInt(action.qty) + parseInt(food.qty),\r\n            price: action.price + food.price,\r\n          };\r\n        }\r\n      });\r\n      return arr;\r\n\r\n    case \"DROP\":\r\n        let emtArray=[];\r\n        return emtArray;\r\n\r\n    default:\r\n      console.log(\"ERROR IN REDUCER\");\r\n  }\r\n};\r\n\r\nexport const CartProvider = ({ children }) => {\r\n  const [state, dispatch] = useReducer(reducer, []);\r\n  return (\r\n    <CartDispatchContext.Provider value={dispatch}>\r\n      <CartStateContext.Provider value={state}>\r\n        {children}\r\n      </CartStateContext.Provider>\r\n    </CartDispatchContext.Provider>\r\n  );\r\n};\r\n\r\nexport const useCart = () => useContext(CartStateContext);\r\nexport const useDispatchCart = () => useContext(CartDispatchContext);\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,aAAa,CAAEC,UAAU,CAAEC,UAAU,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAErE,KAAM,CAAAC,gBAAgB,cAAGL,aAAa,CAAC,CAAC,CACxC,KAAM,CAAAM,mBAAmB,cAAGN,aAAa,CAAC,CAAC,CAE3C,KAAM,CAAAO,OAAO,CAAGA,CAACC,KAAK,CAAEC,MAAM,GAAK,CACjC,OAAQA,MAAM,CAACC,IAAI,EACjB,IAAK,KAAK,CACR,MAAO,CACL,GAAGF,KAAK,CACR,CACEG,EAAE,CAAEF,MAAM,CAACE,EAAE,CACbC,IAAI,CAAEH,MAAM,CAACG,IAAI,CACjBC,GAAG,CAAEJ,MAAM,CAACI,GAAG,CACfC,IAAI,CAAEL,MAAM,CAACK,IAAI,CACjBC,GAAG,CAAEN,MAAM,CAACM,GAAG,CACfC,KAAK,CAAEP,MAAM,CAACO,KAChB,CAAC,CACF,CAEH,IAAK,QAAQ,CACX,GAAI,CAAAC,QAAQ,CAAG,CAAC,GAAGT,KAAK,CAAC,CACzBS,QAAQ,CAACC,MAAM,CAACT,MAAM,CAACU,KAAK,CAAE,CAAC,CAAC,CAChC,MAAO,CAAAF,QAAQ,CAEjB,IAAK,QAAQ,CACX,GAAI,CAAAG,GAAG,CAAG,CAAC,GAAGZ,KAAK,CAAC,CACpBY,GAAG,CAACC,IAAI,CAAC,CAACC,IAAI,CAAEH,KAAK,GAAK,CACxB,GAAIG,IAAI,CAACX,EAAE,GAAKF,MAAM,CAACE,EAAE,CAAE,CACzBS,GAAG,CAACD,KAAK,CAAC,CAAG,CACX,GAAGG,IAAI,CACPT,GAAG,CAAEU,QAAQ,CAACd,MAAM,CAACI,GAAG,CAAC,CAAGU,QAAQ,CAACD,IAAI,CAACT,GAAG,CAAC,CAC9CG,KAAK,CAAEP,MAAM,CAACO,KAAK,CAAGM,IAAI,CAACN,KAC7B,CAAC,CACH,CACF,CAAC,CAAC,CACF,MAAO,CAAAI,GAAG,CAEZ,IAAK,MAAM,CACP,GAAI,CAAAI,QAAQ,CAAC,EAAE,CACf,MAAO,CAAAA,QAAQ,CAEnB,QACEC,OAAO,CAACC,GAAG,CAAC,kBAAkB,CAAC,CACnC,CACF,CAAC,CAED,MAAO,MAAM,CAAAC,YAAY,CAAGC,IAAA,EAAkB,IAAjB,CAAEC,QAAS,CAAC,CAAAD,IAAA,CACvC,KAAM,CAACpB,KAAK,CAAEsB,QAAQ,CAAC,CAAG5B,UAAU,CAACK,OAAO,CAAE,EAAE,CAAC,CACjD,mBACEH,IAAA,CAACE,mBAAmB,CAACyB,QAAQ,EAACC,KAAK,CAAEF,QAAS,CAAAD,QAAA,cAC5CzB,IAAA,CAACC,gBAAgB,CAAC0B,QAAQ,EAACC,KAAK,CAAExB,KAAM,CAAAqB,QAAA,CACrCA,QAAQ,CACgB,CAAC,CACA,CAAC,CAEnC,CAAC,CAED,MAAO,MAAM,CAAAI,OAAO,CAAGA,CAAA,GAAMhC,UAAU,CAACI,gBAAgB,CAAC,CACzD,MAAO,MAAM,CAAA6B,eAAe,CAAGA,CAAA,GAAMjC,UAAU,CAACK,mBAAmB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}