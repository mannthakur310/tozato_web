{"ast":null,"code":"import React,{useEffect,useRef,useState}from\"react\";import'./card.css';import{useCart,useDispatchCart}from\"./ContextReducer\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Card(props){const{_id,img,name}=props.foodItem;let data=useCart();const priceRef=useRef();let optionprice=Object.keys(props.option);let dispatch=useDispatchCart();const[qty,setqty]=useState(1);const[size,setsize]=useState(\"\");let finalprice=qty*parseInt(props.option[size]);useEffect(()=>{setsize(priceRef.current.value);},[]);const handleAddToCart=async()=>{let food=[];for(const item of data){if(item.id===_id){food=item;break;}}if(Object.keys(food).length!==0){if(food.size===size){await dispatch({type:\"UPDATE\",id:_id,price:finalprice,qty:qty});return;}else{await dispatch({type:\"ADD\",id:_id,size:size,price:finalprice,qty:qty,name:name});return;}}await dispatch({type:\"ADD\",id:_id,size:size,price:finalprice,qty:qty,name:name});};return/*#__PURE__*/_jsxs(\"div\",{className:\"card mt-4 bg-muted border-warning\",style:{width:\"15rem\"},children:[/*#__PURE__*/_jsx(\"img\",{src:img,className:\"card-img-top\",alt:\"...\",style:{height:\"25vh\",filter:\"brightness(85%)\"}}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"card-title\",children:name}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-inline-flex inner-card-body\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"container d-inline-flex pe-0\",children:[/*#__PURE__*/_jsx(\"select\",{className:\"bg-warning custom-select\",\"aria-label\":\"Default select example\",onChange:e=>setqty(e.target.value),children:Array.from(Array(4),(e,i)=>{return/*#__PURE__*/_jsx(\"option\",{value:i+1,children:i+1},i+1);})}),/*#__PURE__*/_jsx(\"select\",{className:\"bg-warning custom-select \",\"aria-label\":\"Default select example\",ref:priceRef,onChange:e=>setsize(e.target.value),children:optionprice.map(data=>{return/*#__PURE__*/_jsx(\"option\",{value:data,children:data},data);})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"h-100\",children:[\"\\u20B9\",finalprice,\"/-\"]})]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-warning text-black\",onClick:handleAddToCart,children:\"Add to Cart\"})]})]});}","map":{"version":3,"names":["React","useEffect","useRef","useState","useCart","useDispatchCart","jsx","_jsx","jsxs","_jsxs","Card","props","_id","img","name","foodItem","data","priceRef","optionprice","Object","keys","option","dispatch","qty","setqty","size","setsize","finalprice","parseInt","current","value","handleAddToCart","food","item","id","length","type","price","className","style","width","children","src","alt","height","filter","onChange","e","target","Array","from","i","ref","map","onClick"],"sources":["C:/Users/mannp/OneDrive - Madan Mohan Malaviya University of Technology/Desktop/tozato/my-app/src/component/Card.js"],"sourcesContent":["import React,{useEffect, useRef, useState} from \"react\";\r\nimport './card.css'\r\nimport { useCart,useDispatchCart } from \"./ContextReducer\";\r\n\r\nexport default function Card(props) {\r\n  const{_id,img,name}=props.foodItem\r\n  let data = useCart();\r\n  const priceRef=useRef();\r\n  let optionprice = Object.keys(props.option);\r\n  let dispatch=useDispatchCart();\r\n  const [qty, setqty] = useState(1);\r\n  const [size, setsize] = useState(\"\");\r\n\r\n  let finalprice=qty * parseInt(props.option[size]);\r\n  useEffect(()=>{\r\n    setsize(priceRef.current.value)\r\n  },[])\r\n\r\nconst handleAddToCart =async()=>{\r\n    let food=[];\r\n    for(const item of data){\r\n      if(item.id ===_id){\r\n        food=item;\r\n        break;\r\n      }\r\n    }\r\n    if(Object.keys(food).length !== 0){\r\n      if(food.size === size){\r\n        await dispatch({type:\"UPDATE\",id:_id,price:finalprice,qty:qty})\r\n        return\r\n      }\r\n      else{\r\n        await dispatch({type:\"ADD\",id:_id,size:size,price:finalprice,qty:qty,name:name})\r\n        return\r\n      } \r\n      \r\n    }\r\n    await dispatch({type:\"ADD\",id:_id,size:size,price:finalprice,qty:qty,name:name})\r\n  }\r\n\r\n  return (\r\n    <div\r\n      className=\"card mt-4 bg-muted border-warning\"\r\n      style={{ width: \"15rem\" }}\r\n    >\r\n      <img src={img}\r\n        className=\"card-img-top\"\r\n        alt=\"...\"\r\n        style={{ height: \"25vh\", filter: \"brightness(85%)\" }}\r\n      />\r\n      <div className=\"card-body\">\r\n        <h5 className=\"card-title\">{name}</h5>\r\n        <div className=\"d-inline-flex inner-card-body\">\r\n        <div className=\"container d-inline-flex pe-0\">\r\n          <select\r\n            className=\"bg-warning custom-select\"\r\n            aria-label=\"Default select example\"\r\n            onChange={(e)=>setqty(e.target.value)}\r\n          >{Array.from(Array(4),(e,i)=>{\r\n            return (\r\n              <option key={i+1} value={i+1}>{i+1}</option>\r\n            )\r\n          })}\r\n          </select>\r\n          <select\r\n            className=\"bg-warning custom-select \"\r\n            aria-label=\"Default select example\"\r\n            ref={priceRef}\r\n            onChange={(e)=>setsize(e.target.value)}\r\n          >\r\n            {optionprice.map((data) => {\r\n              return (\r\n                <option key={data} value={data}>\r\n                  {data}\r\n                </option>\r\n              );\r\n            })}\r\n          </select>\r\n        </div>\r\n        <div className=\"h-100\">â‚¹{finalprice}/-</div>\r\n        </div>\r\n        <hr/>\r\n        <button className=\"btn btn-warning text-black\" onClick={handleAddToCart}>Add to Cart</button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}